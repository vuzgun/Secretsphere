Algoritma ve Tasarım
Projemizde kullanılan hareket ve güvenlik başlıkları altında 6 farklı algoritma vardır. Bunlardan 3 tanesi hareket (1 tanesi dikey 2 tanesi yatay), 3 tanesi ise güvenlik algoritmasıdır.

	Dikey hareketi sağlaması için 1 adet PA23-501 hava kompresörü ve 1 adet kapakçık kullanmayı planlıyoruz. Küremizin suya dalması gerektiğinde (senaryo 1) kapakçık açılacak. Ardından kompresör devreye girecek ve safra tankını dolduran havayı sıkıştırarak suyun tanka açılan kapakçıktan dolmasını sağlayacak. Kürenin yüzeye çıkması gerektiğinde ise (senaryo -1) kapakçık açılacak ve kompresörde sıkışan hava bırakılarak suyun kapakçıktan tahliyesi sağlanacak. Suyun tahliyesi esnasında oluşacak olan itme kuvveti kürenin yüzeye çıkmasını sağlayacak.


	Yatay hareketleri kontrol etmesi için Ward-Leonard sisteme sahip bir DC motor, bir pervane sistemi ve bir adet de konsol kullanmayı planlıyoruz. İleri geri hareketleri kontrol etmek için pervanelerin dönüş yönü değiştirilecek. Sağ-sol dönüşlerinde ise kanatçık açıları değiştirilerek farklı yönlere hareket sağlanacak.


	Güvenlik algoritmalarından ilki maruz kalınan basınca karşı oluşturulan algoritma. Bu algoritma SKU-SEN0257 su basınç sensöründen gelen değeri değerlendirip güvenlik sınırı olan 250 kPa basıncı geçtiği takdirde kürenin acil durum moduna geçmesini sağlayacak ve bu sayede kürenin güvenli bir şekilde yüzeye çıkmasına sebep olacaktır. Bir diğer güvenlik algoritmasında ise PING360-SONAR-R2-RP sonar cihazı sisteminden değerler okunacak ve herhangi bir yönde 30 m’den daha yakın olduğu zaman aynı şekilde acil durum moduna geçecek ve küre güvenli bir şekilde yüzeye çıkacak.


	Bu güvenlik algoritması sayesinde arıza veren herhangi bir parça olduğunda o parçadan hata kodu (örnek olarak algoritmada 1 değeri verilmiştir) oluşturulacak. Ardından kürenin bu parçanın durumuna göre yüzeye çıkarılmasını sağlayacak. Kompresör, kapakçık gibi parçalarda hata alınması durumunda ise  LORA SX1276 iletişim modülü devreye girecek ve bu sayede yüzeydeki iletişim merkezindeki insanların kürenin durumundan haberdar olması sağlanacak. Böyle bir durumda en kısa sürede kürenin su yüzeyine çıkması sağlanacak.

Sistem Mimarisi
Projemizi hayata geçirirken bir adet fırçasız motor, üç adet servo motor, bir adet PING360-SONAR-R2-RP sonar cihazı sistemi, bir adet PA23-501 hava kompresörü, bir adet CO₂ yıkayıcı, 6 adet 10 L hava tankı, bir adet NEO-6M GPS modülü, bir adet LORA SX1276 haberleşme modülü ve bir adet SKU-SEN0257 su basınç sensörüne ihtiyaç duyulmaktadır. Küremizin suya dalışı sırasında servo motorları ile kapakçık açılacak. Ardından safra tankının içinde bulunan kompresör devreye girecek ve içerideki havanın sıkıştırılıp depo edilmesini sağlayacak. Oluşan boşluğa ise kapakçıktan su dolacak. Bu sayede kürenin yoğunluğu, suyun yoğunluğunu geçecek ve su altına dalış gerçekleşecek. Yatay hareket ise kürenin içerisindeki bir konsol ile kontrol edilecek. Konsoldan gelen değerler Şekil-3’teki algoritmaların yardımı ile yorumlanacak ve fırçasız motor ile pervane sistemine komutlar verilecek. Bu komutlar ile yatay hareket sağlanacak. Kürenin indiği derinlikte SKU-SEN0257 su basınç sensöründe gelen basınç değeri 250 kPa’ın üzerine çıkması durumunda devreye Şekil-4’te bulunan “Güvenlik Algoritması 1” girecek. Kullanılması planlanan HardShield 50 camı, 50 psi (~340 kPa) basınca dayanıklı olarak ülkemizde üretilmektedir. Kürenin inilmesi planlanan 30 m derinlikte yaklaşık 236 kPa basınca maruz kalacağı da göz önüne alındığı zaman 250 kPa basınç sınırı güvenli bir değer olmaktadır. Kullanacağımız PING360-SONAR-R2-RP sonar cihazı sistemi sayesinde herhangi bir yönde 30 m’den az yakınlıkta bir cisim fark edildiğinde motor “Güvenlik Algoritması 2”de de belirtildiği gibi küreyi korumaya alacaktır. Güvenlik algoritmaları ile birlikte LORA SX1276 devreye girerek yüzeydeki komuta merkezi ile temas kurup NEO-6M GPS modülü ile konumunu gönderecek ve bu şekilde küremiz riskli kazalardan korunmuş olacaktır. İçerideki insanların solunum sıkıntısı çekmemesi adına bir adet CO₂ yıkayıcı ve hava tankları kullanacağız. CO₂ yıkayıcı, insanların ürettiği CO₂’i arındırırken hava tankları insanların ihtiyaç duyduğu O₂’i sağlayacak. Bu sayede kürenin içinde rahat bir solunum ortamı oluşturulacak.


